<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Wed Feb 01 12:54:35 PST 2012 -->
<TITLE>
UserProcess
</TITLE>

<META NAME="date" CONTENT="2012-02-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UserProcess";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../nachos/userprog/UserKernel.html" title="class in nachos.userprog"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../nachos/userprog/UThread.html" title="class in nachos.userprog"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?nachos/userprog/UserProcess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserProcess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nachos.userprog</FONT>
<BR>
Class UserProcess</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>nachos.userprog.UserProcess</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../nachos/vm/VMProcess.html" title="class in nachos.vm">VMProcess</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>UserProcess</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Encapsulates the state of a user process that is not contained in its
 user thread (or threads). This includes its address translation state, a
 file table, and information about the program being executed.

 <p>
 This class is extended by other classes to support additional functionality
 (such as additional syscalls).
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../nachos/vm/VMProcess.html" title="class in nachos.vm"><CODE>VMProcess</CODE></A>, 
<A HREF="../../nachos/network/NetProcess.html" title="class in nachos.network"><CODE>NetProcess</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../nachos/machine/Coff.html" title="class in nachos.machine">Coff</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#coff">coff</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The program being run by this process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#numPages">numPages</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of contiguous pages occupied by the program.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../nachos/machine/TranslationEntry.html" title="class in nachos.machine">TranslationEntry</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#pageTable">pageTable</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This process's page table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#stackPages">stackPages</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The number of pages in the program's stack.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#UserProcess()">UserProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocate a new process.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#execute(java.lang.String, java.lang.String[])">execute</A></B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
        <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;args)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute the specified program with the specified arguments.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#handleException(int)">handleException</A></B>(int&nbsp;cause)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a user exception.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#handleSyscall(int, int, int, int, int)">handleSyscall</A></B>(int&nbsp;syscall,
              int&nbsp;a0,
              int&nbsp;a1,
              int&nbsp;a2,
              int&nbsp;a3)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle a syscall exception.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#initRegisters()">initRegisters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the processor's registers in preparation for running the
 program loaded into this process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#loadSections()">loadSections</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocates memory for this process, and loads the COFF sections into
 memory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../nachos/userprog/UserProcess.html" title="class in nachos.userprog">UserProcess</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#newUserProcess()">newUserProcess</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allocate and return a new process of the correct class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#readVirtualMemory(int, byte[])">readVirtualMemory</A></B>(int&nbsp;vaddr,
                  byte[]&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer data from this process's virtual memory to all of the specified
 array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#readVirtualMemory(int, byte[], int, int)">readVirtualMemory</A></B>(int&nbsp;vaddr,
                  byte[]&nbsp;data,
                  int&nbsp;offset,
                  int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer data from this process's virtual memory to the specified array.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#readVirtualMemoryString(int, int)">readVirtualMemoryString</A></B>(int&nbsp;vaddr,
                        int&nbsp;maxLength)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Read a null-terminated string from this process's virtual memory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#restoreState()">restoreState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restore the state of this process after a context switch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#saveState()">saveState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Save the state of this process in preparation for a context switch.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#unloadSections()">unloadSections</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Release any resources allocated by <tt>loadSections()</tt>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#writeVirtualMemory(int, byte[])">writeVirtualMemory</A></B>(int&nbsp;vaddr,
                   byte[]&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer all data from the specified array to this process's virtual
 memory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../nachos/userprog/UserProcess.html#writeVirtualMemory(int, byte[], int, int)">writeVirtualMemory</A></B>(int&nbsp;vaddr,
                   byte[]&nbsp;data,
                   int&nbsp;offset,
                   int&nbsp;length)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transfer data from the specified array to this process's virtual memory.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="coff"><!-- --></A><H3>
coff</H3>
<PRE>
protected <A HREF="../../nachos/machine/Coff.html" title="class in nachos.machine">Coff</A> <B>coff</B></PRE>
<DL>
<DD>The program being run by this process.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="pageTable"><!-- --></A><H3>
pageTable</H3>
<PRE>
protected <A HREF="../../nachos/machine/TranslationEntry.html" title="class in nachos.machine">TranslationEntry</A>[] <B>pageTable</B></PRE>
<DL>
<DD>This process's page table.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="numPages"><!-- --></A><H3>
numPages</H3>
<PRE>
protected int <B>numPages</B></PRE>
<DL>
<DD>The number of contiguous pages occupied by the program.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="stackPages"><!-- --></A><H3>
stackPages</H3>
<PRE>
protected final int <B>stackPages</B></PRE>
<DL>
<DD>The number of pages in the program's stack.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#nachos.userprog.UserProcess.stackPages">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="UserProcess()"><!-- --></A><H3>
UserProcess</H3>
<PRE>
public <B>UserProcess</B>()</PRE>
<DL>
<DD>Allocate a new process.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="newUserProcess()"><!-- --></A><H3>
newUserProcess</H3>
<PRE>
public static <A HREF="../../nachos/userprog/UserProcess.html" title="class in nachos.userprog">UserProcess</A> <B>newUserProcess</B>()</PRE>
<DL>
<DD>Allocate and return a new process of the correct class. The class name
 is specified by the <tt>nachos.conf</tt> key
 <tt>Kernel.processClassName</tt>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a new process of the correct class.</DL>
</DD>
</DL>
<HR>

<A NAME="execute(java.lang.String, java.lang.String[])"><!-- --></A><H3>
execute</H3>
<PRE>
public boolean <B>execute</B>(<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
                       <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>[]&nbsp;args)</PRE>
<DL>
<DD>Execute the specified program with the specified arguments. Attempts to
 load the program, and then forks a thread to run it.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - the name of the file containing the executable.<DD><CODE>args</CODE> - the arguments to pass to the executable.
<DT><B>Returns:</B><DD><tt>true</tt> if the program was successfully executed.</DL>
</DD>
</DL>
<HR>

<A NAME="saveState()"><!-- --></A><H3>
saveState</H3>
<PRE>
public void <B>saveState</B>()</PRE>
<DL>
<DD>Save the state of this process in preparation for a context switch.
 Called by <tt>UThread.saveState()</tt>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="restoreState()"><!-- --></A><H3>
restoreState</H3>
<PRE>
public void <B>restoreState</B>()</PRE>
<DL>
<DD>Restore the state of this process after a context switch. Called by
 <tt>UThread.restoreState()</tt>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="readVirtualMemoryString(int, int)"><!-- --></A><H3>
readVirtualMemoryString</H3>
<PRE>
public <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>readVirtualMemoryString</B>(int&nbsp;vaddr,
                                      int&nbsp;maxLength)</PRE>
<DL>
<DD>Read a null-terminated string from this process's virtual memory. Read
 at most <tt>maxLength + 1</tt> bytes from the specified address, search
 for the null terminator, and convert it to a <tt>java.lang.String</tt>,
 without including the null terminator. If no null terminator is found,
 returns <tt>null</tt>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vaddr</CODE> - the starting virtual address of the null-terminated
                        string.<DD><CODE>maxLength</CODE> - the maximum number of characters in the string,
                                not including the null terminator.
<DT><B>Returns:</B><DD>the string read, or <tt>null</tt> if no null terminator was
                found.</DL>
</DD>
</DL>
<HR>

<A NAME="readVirtualMemory(int, byte[])"><!-- --></A><H3>
readVirtualMemory</H3>
<PRE>
public int <B>readVirtualMemory</B>(int&nbsp;vaddr,
                             byte[]&nbsp;data)</PRE>
<DL>
<DD>Transfer data from this process's virtual memory to all of the specified
 array. Same as <tt>readVirtualMemory(vaddr, data, 0, data.length)</tt>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vaddr</CODE> - the first byte of virtual memory to read.<DD><CODE>data</CODE> - the array where the data will be stored.
<DT><B>Returns:</B><DD>the number of bytes successfully transferred.</DL>
</DD>
</DL>
<HR>

<A NAME="readVirtualMemory(int, byte[], int, int)"><!-- --></A><H3>
readVirtualMemory</H3>
<PRE>
public int <B>readVirtualMemory</B>(int&nbsp;vaddr,
                             byte[]&nbsp;data,
                             int&nbsp;offset,
                             int&nbsp;length)</PRE>
<DL>
<DD>Transfer data from this process's virtual memory to the specified array.
 This method handles address translation details. This method must
 <i>not</i> destroy the current process if an error occurs, but instead
 should return the number of bytes successfully copied (or zero if no
 data could be copied).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vaddr</CODE> - the first byte of virtual memory to read.<DD><CODE>data</CODE> - the array where the data will be stored.<DD><CODE>offset</CODE> - the first byte to write in the array.<DD><CODE>length</CODE> - the number of bytes to transfer from virtual memory to
                        the array.
<DT><B>Returns:</B><DD>the number of bytes successfully transferred.</DL>
</DD>
</DL>
<HR>

<A NAME="writeVirtualMemory(int, byte[])"><!-- --></A><H3>
writeVirtualMemory</H3>
<PRE>
public int <B>writeVirtualMemory</B>(int&nbsp;vaddr,
                              byte[]&nbsp;data)</PRE>
<DL>
<DD>Transfer all data from the specified array to this process's virtual
 memory.
 Same as <tt>writeVirtualMemory(vaddr, data, 0, data.length)</tt>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vaddr</CODE> - the first byte of virtual memory to write.<DD><CODE>data</CODE> - the array containing the data to transfer.
<DT><B>Returns:</B><DD>the number of bytes successfully transferred.</DL>
</DD>
</DL>
<HR>

<A NAME="writeVirtualMemory(int, byte[], int, int)"><!-- --></A><H3>
writeVirtualMemory</H3>
<PRE>
public int <B>writeVirtualMemory</B>(int&nbsp;vaddr,
                              byte[]&nbsp;data,
                              int&nbsp;offset,
                              int&nbsp;length)</PRE>
<DL>
<DD>Transfer data from the specified array to this process's virtual memory.
 This method handles address translation details. This method must
 <i>not</i> destroy the current process if an error occurs, but instead
 should return the number of bytes successfully copied (or zero if no
 data could be copied).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>vaddr</CODE> - the first byte of virtual memory to write.<DD><CODE>data</CODE> - the array containing the data to transfer.<DD><CODE>offset</CODE> - the first byte to transfer from the array.<DD><CODE>length</CODE> - the number of bytes to transfer from the array to
                        virtual memory.
<DT><B>Returns:</B><DD>the number of bytes successfully transferred.</DL>
</DD>
</DL>
<HR>

<A NAME="loadSections()"><!-- --></A><H3>
loadSections</H3>
<PRE>
protected boolean <B>loadSections</B>()</PRE>
<DL>
<DD>Allocates memory for this process, and loads the COFF sections into
 memory. If this returns successfully, the process will definitely be
 run (this is the last step in process initialization that can fail).
<P>
<DD><DL>

<DT><B>Returns:</B><DD><tt>true</tt> if the sections were successfully loaded.</DL>
</DD>
</DL>
<HR>

<A NAME="unloadSections()"><!-- --></A><H3>
unloadSections</H3>
<PRE>
protected void <B>unloadSections</B>()</PRE>
<DL>
<DD>Release any resources allocated by <tt>loadSections()</tt>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initRegisters()"><!-- --></A><H3>
initRegisters</H3>
<PRE>
public void <B>initRegisters</B>()</PRE>
<DL>
<DD>Initialize the processor's registers in preparation for running the
 program loaded into this process. Set the PC register to point at the
 start function, set the stack pointer register to point at the top of
 the stack, set the A0 and A1 registers to argc and argv, respectively,
 and initialize all other registers to 0.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="handleSyscall(int, int, int, int, int)"><!-- --></A><H3>
handleSyscall</H3>
<PRE>
public int <B>handleSyscall</B>(int&nbsp;syscall,
                         int&nbsp;a0,
                         int&nbsp;a1,
                         int&nbsp;a2,
                         int&nbsp;a3)</PRE>
<DL>
<DD>Handle a syscall exception. Called by <tt>handleException()</tt>. The
 <i>syscall</i> argument identifies which syscall the user executed:

 <table>
 <tr><td>syscall#</td><td>syscall prototype</td></tr>
 <tr><td>0</td><td><tt>void halt();</tt></td></tr>
 <tr><td>1</td><td><tt>void exit(int status);</tt></td></tr>
 <tr><td>2</td><td><tt>int  exec(char *name, int argc, char **argv);
                                                                </tt></td></tr>
 <tr><td>3</td><td><tt>int  join(int pid, int *status);</tt></td></tr>
 <tr><td>4</td><td><tt>int  creat(char *name);</tt></td></tr>
 <tr><td>5</td><td><tt>int  open(char *name);</tt></td></tr>
 <tr><td>6</td><td><tt>int  read(int fd, char *buffer, int size);
                                                                </tt></td></tr>
 <tr><td>7</td><td><tt>int  write(int fd, char *buffer, int size);
                                                                </tt></td></tr>
 <tr><td>8</td><td><tt>int  close(int fd);</tt></td></tr>
 <tr><td>9</td><td><tt>int  unlink(char *name);</tt></td></tr>
 </table>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>syscall</CODE> - the syscall number.<DD><CODE>a0</CODE> - the first syscall argument.<DD><CODE>a1</CODE> - the second syscall argument.<DD><CODE>a2</CODE> - the third syscall argument.<DD><CODE>a3</CODE> - the fourth syscall argument.
<DT><B>Returns:</B><DD>the value to be returned to the user.</DL>
</DD>
</DL>
<HR>

<A NAME="handleException(int)"><!-- --></A><H3>
handleException</H3>
<PRE>
public void <B>handleException</B>(int&nbsp;cause)</PRE>
<DL>
<DD>Handle a user exception. Called by
 <tt>UserKernel.exceptionHandler()</tt>. The
 <i>cause</i> argument identifies which exception occurred; see the
 <tt>Processor.exceptionZZZ</tt> constants.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>cause</CODE> - the user exception that occurred.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../nachos/userprog/UserKernel.html" title="class in nachos.userprog"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../nachos/userprog/UThread.html" title="class in nachos.userprog"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?nachos/userprog/UserProcess.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserProcess.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
